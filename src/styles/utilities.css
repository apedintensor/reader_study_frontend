/* Utility layer pointing to tokens */
body, html { background: var(--bg-body); color: var(--text-color); }

.u-surface-card { background: var(--bg-surface-card); border:1px solid var(--border-color); }
.u-surface-overlay { background: var(--bg-surface-overlay); border:1px solid var(--border-color); }
.u-surface-ground { background: var(--bg-surface-ground); border:1px solid var(--border-color); }
.u-border { border:1px solid var(--border-color); }
.u-text-secondary { color: var(--text-color-secondary); }
.u-text-muted { color: var(--text-color-muted); }
.u-link { color: var(--link-color); }
.u-link:hover { color: var(--link-hover); }
.u-heading { font-weight:600; color: var(--text-color); }
.u-heading-sub { text-transform:uppercase; letter-spacing:.06em; font-size:.7rem; color: var(--text-color-secondary); }

/* Legacy class bridges (keep lightweight) */
.text-500 { color: var(--text-color-muted); }
.text-600 { color: var(--text-color-secondary); }

/* Common shadow */
.u-shadow { box-shadow: 0 2px 4px rgba(0,0,0,.08), 0 1px 2px rgba(0,0,0,.06); }

/* Elevation utilities */
.u-elev-1 { box-shadow: var(--elev-1); }
.u-elev-2 { box-shadow: var(--elev-2); }
.u-elev-3 { box-shadow: var(--elev-3); }
.u-elev-4 { box-shadow: var(--elev-4); }

/* Spacing utilities (margin/padding short set) */
.m-0 { margin: var(--space-0)!important; }
.mt-1 { margin-top: var(--space-1)!important; }
.mt-2 { margin-top: var(--space-2)!important; }
.mt-3 { margin-top: var(--space-3)!important; }
.mt-4 { margin-top: var(--space-4)!important; }
.p-1 { padding: var(--space-1)!important; }
.p-2 { padding: var(--space-2)!important; }
.p-3 { padding: var(--space-3)!important; }
.p-4 { padding: var(--space-4)!important; }

/* Typography size helpers */
.fs-xs { font-size: var(--font-size-xs); }
.fs-sm { font-size: var(--font-size-sm); }
.fs-base { font-size: var(--font-size-base); }
.fs-lg { font-size: var(--font-size-lg); }
.fs-xl { font-size: var(--font-size-xl); }
.fs-2xl { font-size: var(--font-size-2xl); }
.fs-3xl { font-size: var(--font-size-3xl); }
.lh-tight { line-height: var(--line-height-tight); }
.lh-normal { line-height: var(--line-height-normal); }
.lh-relaxed { line-height: var(--line-height-relaxed); }

/* Motion helper */
.transition-base { transition: all var(--motion-base) var(--easing-standard); }

/* Composite components */
.u-card { background: var(--bg-surface-card); border:1px solid var(--border-color); border-radius: var(--radius-md); padding: var(--space-4); box-shadow: var(--elev-1); }
.u-card.u-elev-0 { box-shadow:none; }
.u-card-interactive { cursor:pointer; transition: box-shadow var(--motion-base) var(--easing-standard), transform var(--motion-base) var(--easing-standard); }
.u-card-interactive:hover { box-shadow: var(--elev-2); transform: translateY(-2px); }
.u-card-interactive:active { box-shadow: var(--elev-1); transform: translateY(0); }

/* Hierarchy helpers */
.u-surface-ground-border { border:1px solid var(--border-color); background: var(--bg-surface-ground); }

/* State helpers */
.u-success { color: var(--success-color); }
.u-danger { color: var(--danger-color); }
.u-bg-success-soft { background: var(--highlight-success-bg); color: var(--success-color); }

/* Card padding standard */
.u-card-pad { padding:.75rem 1rem; border-radius:6px; }

/* Page Containers */
.u-page { width:100%; margin:0 auto; padding: var(--page-padding-y) var(--page-padding-x); }
.u-page-narrow { max-width: var(--page-max-width-narrow); }
.u-page-standard { max-width: var(--page-max-width); }
.u-page-wide { max-width: var(--page-max-width-wide); }
@media (max-width: 768px){
	.u-page { padding: var(--space-5) var(--page-padding-x-mobile); }
}

/* PrimeVue component overrides (centralized) */
/* Ensure Card respects token surfaces in dark mode without per-component :deep selectors */
.p-card, .p-card-body, .p-card-content { background: var(--bg-surface-card)!important; color: var(--text-color); }
.p-card { border:1px solid var(--border-color); border-radius: var(--radius-md); }
.p-card .p-card-title { color: var(--text-color); }
.p-card .p-card-subtitle { color: var(--text-color-secondary); }

/* Hierarchy: card inside card uses darker overlay surface (dark theme) */
.p-card .p-card .p-card-body, .p-card .p-card, .p-fieldset .p-card { background: var(--bg-surface-overlay)!important; }
.p-card .p-card { box-shadow: var(--elev-1); }

/* Fieldset sections (Diagnoses / Management / Confidence) */
/* Force override any theme hardcoded light backgrounds */
.p-fieldset,
.p-fieldset .p-fieldset-content { background: var(--bg-surface-overlay)!important; color: var(--text-color)!important; }
.p-fieldset { border:1px solid var(--border-color)!important; border-radius: var(--radius-md)!important; box-shadow: var(--elev-1); }
.p-fieldset-legend { background: var(--bg-surface-overlay)!important; color: var(--text-color-secondary)!important; font-weight:600; border:1px solid var(--border-color)!important; border-radius: var(--radius-pill)!important; padding:.25rem .75rem; }
.p-fieldset .p-fieldset-legend-text { color: inherit!important; }

/* SelectButton surface + active state */
.p-selectbutton .p-button { background: var(--bg-surface-overlay); border:1px solid var(--border-color); color: var(--text-color); transition: background var(--motion-base) var(--easing-standard), color var(--motion-base) var(--easing-standard), border-color var(--motion-base) var(--easing-standard); }
.p-selectbutton .p-button:not(.p-disabled):hover { background: var(--highlight-bg); border-color: var(--accent-primary); }
.p-selectbutton .p-button.p-highlight { background: var(--accent-primary); border-color: var(--accent-primary); color: var(--color-white); box-shadow: 0 0 0 1px var(--accent-primary-alt) inset; }
.p-selectbutton .p-button.p-highlight:hover { background: var(--accent-primary-alt); border-color: var(--accent-primary-alt); }

/* DataTable & related elements */
.p-datatable { background: var(--bg-surface-card)!important; color: var(--text-color); border:1px solid var(--border-color); }
.p-datatable .p-datatable-header { background: var(--bg-surface-overlay); color: var(--text-color); border-bottom:1px solid var(--border-color); }
.p-datatable .p-datatable-thead > tr > th { background: var(--bg-surface-overlay)!important; color: var(--text-color); border-color: var(--border-color)!important; }
.p-datatable .p-datatable-tbody > tr { background: var(--bg-surface-card)!important; color: var(--text-color); }
.p-datatable .p-datatable-tbody > tr:nth-child(even) { background: var(--bg-surface-overlay)!important; }
.p-datatable .p-datatable-tbody > tr:hover { background: var(--highlight-bg)!important; }
.p-datatable .p-datatable-tbody > tr > td { border-color: var(--border-color)!important; }

/* ProgressBar */
.p-progressbar { background: var(--bg-surface-overlay)!important; border-radius: var(--radius-pill); }
.p-progressbar .p-progressbar-value { background: var(--accent-primary)!important; }

/* Tag */
.p-tag { background: var(--highlight-bg)!important; color: var(--accent-primary)!important; border-radius: var(--radius-pill); border:1px solid var(--border-color); }
.p-tag.p-tag-success { background: var(--success-color)!important; color: #fff!important; border-color: var(--success-color)!important; }
.p-tag.p-tag-info { background: var(--accent-primary)!important; color:#fff!important; }
.p-tag.p-tag-danger { background: var(--danger-color)!important; color:#fff!important; }
